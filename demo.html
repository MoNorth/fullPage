<!DOCTYPE html>
<html>
<head>
	<title>fullDemo</title>
</head>
<style type="text/css">
	body,html{
		padding:0;
		margin: 0;
		height: 100%;
	}
	div.o{
		height: 100%;
		background-color: #999;
	}
	div.t{
		height: 100%;
		background-color: red;
	}
</style>
<script type="text/javascript" src="jquery-1.8.3.min.js"></script>
<script type="text/javascript">
	$(function() {
		var isOk = true;
		var before = 0;
		var page = $(".page");
		var length = page.length;
		var pageHeight = $('body').height();
		var index = '';
		var i = 0;
		$(window).scroll(function(e){
			var events = e || window.event;
			events.preventDefault();
			var now = $(document).scrollTop() - 0;
			if(isOk)
			{
				
				
				
				console.log(i ++);
				isOk = false;
				index = Math.floor(now/pageHeight);
				//alert(index);
				if(index + 1 < length && now > before)
				{
					$('html,body').attr('onmousewheel','return false');
					$('html,body').animate({
						scrollTop:page.eq(index + 1).offset().top
					},400,function(){
						setTimeout(function(){isOk = true;},100);
						$('html,body').attr('onmousewheel','return true');
					});
					//下划。。。


				}
				else if(index >= 0 && now < before)
				{
					//上划
					$('html,body').attr('onmousewheel','return false');
					$('html,body').animate({
						scrollTop:page.eq(index).offset().top
					},400,function(){
						setTimeout(function(){isOk = true;},100);
						$('html,body').attr('onmousewheel','return true');
					});
				}
				else
					isOk = true;

			}		
			before = now;

		});
		 window.onresize=function(){  
            pageHeight = $('body').height();
         } 
	});
</script>
<body>
	<div class="o page"></div>
	<div class="t page" id="t"></div>
	<div class="o page"></div>
	<div class="t page"></div>
	<div class="o page"></div>
	<div class="t page"></div>
</body>
</html>